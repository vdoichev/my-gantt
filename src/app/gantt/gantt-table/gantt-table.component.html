<mat-button-toggle-group [(ngModel)]="view">
  <mat-button-toggle value="day">Day</mat-button-toggle>
  <mat-button-toggle value="week">Week</mat-button-toggle>
</mat-button-toggle-group>

<div class="gantt-layout">
  <div class="table-pane" [style.width.px]="tableWidth">
    <table mat-table [dataSource]="dataSource" class="gantt-table">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let t">{{ t.id }}</td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Task</th>
        <td mat-cell *matCellDef="let t">{{ t.name }}</td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="owner">
        <th mat-header-cell *matHeaderCellDef>Owner</th>
        <td mat-cell *matCellDef="let t">{{ t.owner }}</td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let t">{{ t.status }}</td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef>Priority</th>
        <td mat-cell *matCellDef="let t">{{ t.priority }}</td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="leftColumns"></tr>
      <tr mat-row *matRowDef="let r; columns: leftColumns"
          [style.height.px]="rowHeight"></tr>
      <tr mat-footer-row *matFooterRowDef="leftColumns"></tr>

    </table>
  </div>

  <!-- SPLITTER -->
  <div
    class="splitter" #splitter
    (mousedown)="startResize($event)">
  </div>


  <div class="gantt-pane">

    <table mat-table [dataSource]="dataSource" class="gantt-table">
      <!-- GANTT -->
      <ng-container matColumnDef="gantt">

        <th mat-header-cell *matHeaderCellDef class="gantt-header">
          <app-gantt-header
            [projectStart]="projectStart"
            [projectEnd]="projectEnd"
            [view]="view"
            [dayWidth]="dayWidth"
            [weekWidth]="weekWidth"
          ></app-gantt-header>
        </th>

        <td mat-cell *matCellDef="let task" class="gantt-cell">
          <div class="timeline-wrapper">
            <div class="timeline" #timeline>
              <div
                class="bar"
                [style.left.px]="offset(task)"
                [style.width.px]="width(task)">
              </div>
            </div>
          </div>
        </td>

        <!-- FOOTER: ОДИН X-SCROLL -->
        <td mat-footer-cell *matFooterCellDef class="gantt-footer">
          <div
            class="gantt-x-scroll"
            #xScroll
            (scroll)="onGanttScroll(xScroll.scrollLeft)">
            <div class="gantt-x-content"></div>
          </div>
        </td>

      </ng-container>

      <tr mat-header-row *matHeaderRowDef="rightColumns"></tr>
      <tr mat-row *matRowDef="let r; columns: rightColumns"
          [style.height.px]="rowHeight"></tr>
      <tr mat-footer-row *matFooterRowDef="rightColumns"></tr>

    </table>

  </div>
</div>
